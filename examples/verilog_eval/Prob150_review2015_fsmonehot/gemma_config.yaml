# Configuration for Verilog optimization
max_iterations: 50
checkpoint_interval: 10
log_level: "INFO"
language: "verilog"
file_suffix: ".v"

# LLM configuration
llm:
  models:
    - name: "gemma-local"
      model_path: "/home/jonathan13/GemmaEvolve/gemma-3-12b-it-Q8_0.gguf"
      n_ctx: 8192
      n_gpu_layers: -1
      temperature: 0.7
      top_p: 0.95
      max_tokens: 4096
      
  evaluator_models:
    - name: "gemma-local" 
      model_path: "/home/jonathan13/GemmaEvolve/gemma-3-12b-it-Q8_0.gguf"
      n_ctx: 8192
      n_gpu_layers: -1
      temperature: 0.7
      top_p: 0.95
      max_tokens: 4096

# Prompt configuration
prompt:
  system_message: |
    You are an expert Hardware Design Engineer. Your task is to implement a Verilog module.

    Description:
    The problem describes a Moore state machine with three inputs (d, done_counting, ack) and three outputs (shift_ena, counting, done). The state machine begins in state 'S' and transitions based on the input 'd'. It includes states 'S', 'S1', 'S11', 'S110', 'B0', 'B1', 'B2', 'B3', 'Count', and 'Wait'. The 'shift_ena' output is asserted in states 'B0', 'B1', 'B2', and 'B3'. The 'counting' output is asserted in the 'Count' state. The 'done' output is asserted in the 'Wait' state. The state transitions and output logic must be derived from the state diagram provided. The task is to implement the combinational logic for the next-state and output signals given a 10-bit one-hot encoded state input.

    Interface:
    module TopModule (
      input d,
      input done_counting,
      input ack,
      input [9:0] state, // 10-bit one-hot current state
      output B3_next,
      output S_next,
      output S1_next,
      output Count_next,
      output Wait_next,
      output done,
      output counting,
      output shift_ena
    );

    Requirements:
    - Implement the module logic using `assign` statements where possible.
    - Follow Verilog-2001 standards.
    - Output ONLY the Verilog module code.

  num_top_programs: 0
  num_diverse_programs: 0
  include_artifacts: false

# Database configuration
database:
  population_size: 40 
  archive_size: 5
  num_islands: 4
  programs_per_island: 10
  elite_selection_ratio: 0.2
  exploitation_ratio: 0.7
  
  embedding_model: "embedding_models/Nomic-Embed-Code/nomic-embed-code-q5_k_m.gguf"
  similarity_threshold: 0.95

# Evaluator configuration
evaluator:
  timeout: 30
  parallel_evaluations: 2

# Evolution settings
diff_based_evolution: false 
max_code_length: 5000
