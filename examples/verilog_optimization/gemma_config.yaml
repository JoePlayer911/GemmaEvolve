# Configuration for Verilog optimization example
max_iterations: 50
checkpoint_interval: 10
log_level: "INFO"
language: "verilog"
file_suffix: ".v"

# LLM configuration
llm:
  models:
    - name: "gemma-local"
      model_path: "/home/jonathan13/GemmaEvolve/gemma-3-12b-it-Q8_0.gguf"
      n_ctx: 16384 
      n_gpu_layers: -1
      temperature: 0.7
      top_p: 0.95
      max_tokens: 4096
      
  # Use the same model for evaluation
  evaluator_models:
    - name: "gemma-local" 
      model_path: "/home/jonathan13/GemmaEvolve/gemma-3-12b-it-Q8_0.gguf"
      n_ctx: 16384 
      n_gpu_layers: -1
      temperature: 0.7
      top_p: 0.95
      max_tokens: 4096

# Prompt configuration
prompt:
  system_message: |
    You are an expert Hardware Design Engineer specializing in Verilog. Your task is to implement a highly efficient Verilog module.

    Target:
    - Implement the module `TopModule` which reverses the byte order of a 32-bit input vector.
    - Input: `in` (32-bit). Output: `out` (32-bit).
    - Logic: out[31:24] = in[7:0], out[23:16] = in[15:8], etc.
    - The module interface MUST be: `module TopModule (input [31:0] in, output [31:0] out);`
    - Optimize for conciseness and clarity.

    CRITICAL VERILOG SYNTAX RULES:
    - The output `out` is a WIRE, not a REG.
    - You MUST use `assign` statements (e.g., `assign out = ...;`).
    - Do NOT use `always` blocks or procedural assignment (`=`) for `out`.

    Rules:
    - Output the COMPLETE Verilog module ONLY.
    - Do NOT include the testbench.
    - Ensure strict Verilog-2001 compliance.

  # Reduce context usage
  num_top_programs: 0
  num_diverse_programs: 0
  include_artifacts: false

# Database configuration
database:
  population_size: 10 
  archive_size: 5
  num_islands: 2
  programs_per_island: 5
  elite_selection_ratio: 0.2
  exploitation_ratio: 0.7
  
  # Embedding model (CPU offloaded)
  embedding_model: "embedding_models/Nomic-Embed-Code/nomic-embed-code-q5_k_m.gguf"
  similarity_threshold: 0.95

# Evaluator configuration
evaluator:
  timeout: 30
  parallel_evaluations: 2

# Evolution settings
diff_based_evolution: false # Full rewrites are often better for small hardware modules
max_code_length: 5000
