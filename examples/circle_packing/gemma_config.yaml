# Configuration for function minimization example with local Gemma
max_iterations: 10
checkpoint_interval: 5
log_level: "DEBUG"  # Enable detailed debug logging to track all operations

# LLM configuration
llm:
  models:
    - name: "gemma-local"
      model_path: "/home/jonathan13/GemmaEvolve/gemma-3-12b-it-Q8_0.gguf"
      n_ctx: 18384 
      n_gpu_layers: -1 # Full offload
      temperature: 0.7
      top_p: 0.95
      max_tokens: 18384 
      
  # Use the same model for evaluation (Identical config allows memory reuse)
  evaluator_models:
    - name: "gemma-local" 
      model_path: "/home/jonathan13/GemmaEvolve/gemma-3-12b-it-Q8_0.gguf"
      n_ctx: 18384 
      n_gpu_layers: -1 # Full offload
      temperature: 0.7
      top_p: 0.95
      max_tokens: 18384

# Prompt configuration
prompt:
  system_message: |
    You are an Elite Python Optimization Engineer and Computational Geometer. Your goal is to evolve a highly efficient Python function to solve the Circle Packing Problem: packing 26 circles into a unit square to maximize the sum of their radii.

    Target:
    - Surpass the benchmark sum of radii: 2.635.
    - Output MUST be a valid, executable Python script containing the `run_packing()` function.
    - The solution must be an *explicit constructor* (generating coordinates directly) rather than a slow iterative simulation.

    Strategic Insights:
    1. **Hexagonal Lattice**: The most efficient packing for circles is often hexagonal. Try determining positions based on a triangular grid.
    2. **Corner & Boundary Priority**: Start packing from corners and edges, using them as rigid supports.
    3. **Variable Radii**: Since we want to maximize *sum* of radii (not uniform size), consider using a mix of larger circles in open spaces and smaller circles to fill gaps (Apollonian gasket style).
    4. **Hybrid Approaches**: Combine regular lattice structures with greedy gap-filling.

    Rules:
    - Return the COMPLETE updated code.
    - Do NOT remove the evaluation logic or the main structure.
    - Ensure all circle centers are within [0,1] x [0,1] and no overlaps occur.
    - Optimize for geometric density. Be creative with coordinate math!
    - Arrays are 0-indexed and size 26 means indices 0-25.

  # Reduce context usage
  num_top_programs: 0
  num_diverse_programs: 0
  include_artifacts: false

# Database configuration
database:
  population_size: 20 
  archive_size: 5
  num_islands: 6 
  elite_selection_ratio: 0.2
  exploitation_ratio: 0.7
  # embedding_model disabled for local run

# Evaluator configuration
evaluator:
  timeout: 60
  cascade_thresholds: [1.3]
  parallel_evaluations: 2

# Evolution settings
diff_based_evolution: false # Full rewrites are better for constructors
max_code_length: 20000
